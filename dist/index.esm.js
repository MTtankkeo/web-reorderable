var e,t;!function(e){e.NONE="none",e.READY="ready",e.ACTIVE="active"}(e||(e={}));class s{constructor(t){this.parent=t,this._status=e.NONE,console.assert(null!=t,"The given parent must be not null.")}}!function(e){e.NONE="none",e.REORDERING="reordering",e.REORDERED="reordered"}(t||(t={}));class n extends HTMLElement{constructor(){super(...arguments),this._listeners=[],this._statusListeners=[],this._status=t.NONE,this._state=null}get status(){return this._status}set status(e){this._status!=e&&this.notifyStatusListeners(this._status=e)}get state(){return this._state}set state(e){this.onUpdateState(this._state=e)}set onChange(e){null!=e&&this.addListener(e)}addListener(e){console.assert(!this._listeners.includes(e),"Already exists a given callback."),this._listeners.push(e)}removeListener(e){console.assert(this._listeners.includes(e),"Already not exists a given callback."),this._listeners.push(e)}addStatusListener(e){console.assert(!this._statusListeners.includes(e),"Already exists a given callback."),this._statusListeners.push(e)}removeStatusListener(e){console.assert(this._statusListeners.includes(e),"Already not exists a given callback."),this._statusListeners.push(e)}notifyListeners(e,t,s){this._listeners.forEach((n=>n(e,t,s)))}notifyStatusListeners(e){this._statusListeners.forEach((t=>t(e)))}createState(e){return{items:e.map((e=>new s(e)))}}onInit(){}onInitState(e){for(const t of e.items)t.parent.element.addEventListener("pointerdown",(()=>{console.log("pointer down")})),t.parent.element.addEventListener("pointerup",(()=>{console.log("pointer up")}))}connectedCallback(){var e;const t=[];for(let s=0;s<this.children.length;s++){const n=this.children.item(s),i=null!==(e=n.getAttribute("key"))&&void 0!==e?e:n.getAttribute("reorderable-key");if(!i)throw new Error("Should be defining key attributes missing from reorderable element items so that items can be identified.");t.push({key:i,element:n})}this.onInit(),this.onInitState(this.state=this.createState(t))}}class i extends n{onInit(){console.log("on init")}onUpdateState(e){console.log("on update state",e)}onUpdateContext(e){console.log(e)}}customElements.define("reorderable-list",i);class r{}class a extends HTMLElement{connectedCallback(){this.onInit(),this.onInitEvent()}onInit(){let e=this.parentElement;for(;e;){if(e instanceof n)return this.target=e;e=e.parentElement}throw new Error("<reorderable-drag> must have a reorderable ancestor element.")}onInitEvent(){}}customElements.define("reorderable-drag",a);const o=new CSSStyleSheet;o.insertRule("\n    reorderable-list {\n        display: flex;\n        flex-direction: column;\n    }\n"),o.insertRule("\n    reorderable-grid {}\n"),document.adoptedStyleSheets=[o];export{a as ReorderableDragElement,n as ReorderableElement,r as ReorderableGridElement,s as ReorderableItemState,e as ReorderableItemStatus,i as ReorderableListElement};
//# sourceMappingURL=index.esm.js.map
